**“基于关键帧对齐的物理无损、逻辑精准裁剪方案”**

1. **核心目标**：在 Electron 应用内实现单视频多片段的**高速、无损**裁剪合并，作为视频导航与内容过滤的核心功能。
2. **技术路径**：
   - 使用 FFmpeg **Stream Copy** 模式进行媒体流搬运，严禁全量转码。
   - 使用 **Concat Demuxer** 进行片段合成，确保容器层级的时间戳连续性。
3. **物理切割准则（宁多勿少）**：
   - **起始点 (Start)**：强制回溯至用户选中时间点前最近的一个 **IDR 关键帧**。
   - **结束点 (End)**：强制后延至用户选中时间点后的下一个 **关键帧**（或精确截断，视容器稳定性而定），确保不丢帧、不花屏、无解码空隙。
   - **多流同步**：以视频关键帧为基准，音频流随视频流同步搬运，接受衔接处微小的音频重叠或爆音。
4. **逻辑校准准则（数据驱动）**：
   - **时间映射**：后端（FFmpeg/ffprobe）必须返回每一段物理切片的**精确起始时间戳 (PTS)**。
   - **前端对齐**：前端应用根据物理起始点与用户设定点的差值，自动修正视频导航、截图位置、标签位置，实现 UI 层面“指哪打哪”的像素级对应。
5. **兼容性与分发**：
   - **格式限制**：仅支持 HTML5 原生容器及编码（MP4/H.264/H.265/WebM）。
   - **播放优化**：输出 MP4 必须包含 faststart 标记，确保在 Electron Webview 中秒开。